
> @onboardjs/core@0.3.12 test E:\Work\onboardjs\packages\core
> vitest --coverage "--run"


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mE:/Work/onboardjs/packages/core[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mÃ”Â£Ã´[39m src/utils/step-utils.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/services/Logger.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 16[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/engine/EventHandlerRegistry.test.ts [2m([22m[2m42 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/parser/StepJSONParser.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 27[2mms[22m[39m
stderr | src/engine/StateManager.test.ts > StateManager > getState > should disable navigation when an error is present
StateManager [ERROR] Error set: Error: Test Error
    at E:\Work\onboardjs\packages\core\src\engine\StateManager.test.ts:141:35
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasurePerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST LOOP: Iteration for intended duration 1
TEST HELPER: op=syncLimitTest, i=1, configuring perf.now to return 0 then 1
TEST LOOP: Metrics after duration 1: [1]
TEST LOOP: Iteration for intended duration 2
TEST HELPER: op=syncLimitTest, i=2, configuring perf.now to return 1 then 3
TEST LOOP: Metrics after duration 2: [1,2]
TEST LOOP: Iteration for intended duration 3
TEST HELPER: op=syncLimitTest, i=3, configuring perf.now to return 3 then 6
TEST LOOP: Metrics after duration 3: [1,2,3]
TEST LOOP: Iteration for intended duration 4
TEST HELPER: op=syncLimitTest, i=4, configuring perf.now to return 6 then 10
TEST LOOP: Metrics after duration 4: [1,2,3,4]
TEST LOOP: Iteration for intended duration 5
TEST HELPER: op=syncLimitTest, i=5, configuring perf.now to return 10 then 15
TEST LOOP: Metrics after duration 5: [1,2,3,4,5]
TEST LOOP: Iteration for intended duration 6
TEST HELPER: op=syncLimitTest, i=6, configuring perf.now to return 15 then 21
TEST LOOP: Metrics after duration 6: [2,3,4,5,6]
TEST LOOP: Iteration for intended duration 7
TEST HELPER: op=syncLimitTest, i=7, configuring perf.now to return 21 then 28
TEST LOOP: Metrics after duration 7: [3,4,5,6,7]
TEST LOOP: Iteration for intended duration 8
TEST HELPER: op=syncLimitTest, i=8, configuring perf.now to return 28 then 36
TEST LOOP: Metrics after duration 8: [4,5,6,7,8]
TEST LOOP: Iteration for intended duration 9
TEST HELPER: op=syncLimitTest, i=9, configuring perf.now to return 36 then 45
TEST LOOP: Metrics after duration 9: [5,6,7,8,9]
TEST LOOP: Iteration for intended duration 10
TEST HELPER: op=syncLimitTest, i=10, configuring perf.now to return 45 then 55
TEST LOOP: Metrics after duration 10: [6,7,8,9,10]
TEST LOOP: Iteration for intended duration 11
TEST HELPER: op=syncLimitTest, i=11, configuring perf.now to return 55 then 66
TEST LOOP: Metrics after duration 11: [7,8,9,10,11]
TEST LOOP: Iteration for intended duration 12
TEST HELPER: op=syncLimitTest, i=12, configuring perf.now to return 66 then 78
TEST LOOP: Metrics after duration 12: [8,9,10,11,12]
TEST LOOP: Iteration for intended duration 13
TEST HELPER: op=syncLimitTest, i=13, configuring perf.now to return 78 then 91
TEST LOOP: Metrics after duration 13: [9,10,11,12,13]
TEST LOOP: Iteration for intended duration 14
TEST HELPER: op=syncLimitTest, i=14, configuring perf.now to return 91 then 105
TEST LOOP: Metrics after duration 14: [10,11,12,13,14]
TEST LOOP: Iteration for intended duration 15
TEST HELPER: op=syncLimitTest, i=15, configuring perf.now to return 105 then 120
TEST LOOP: Metrics after duration 15: [11,12,13,14,15]
TEST LOOP: Iteration for intended duration 16
TEST HELPER: op=syncLimitTest, i=16, configuring perf.now to return 120 then 136
TEST LOOP: Metrics after duration 16: [12,13,14,15,16]
TEST LOOP: Iteration for intended duration 17
TEST HELPER: op=syncLimitTest, i=17, configuring perf.now to return 136 then 153
TEST LOOP: Metrics after duration 17: [13,14,15,16,17]
TEST LOOP: Iteration for intended duration 18
TEST HELPER: op=syncLimitTest, i=18, configuring perf.now to return 153 then 171
TEST LOOP: Metrics after duration 18: [14,15,16,17,18]
TEST LOOP: Iteration for intended duration 19
TEST HELPER: op=syncLimitTest, i=19, configuring perf.now to return 171 then 190
TEST LOOP: Metrics after duration 19: [15,16,17,18,19]
TEST LOOP: Iteration for intended duration 20
TEST HELPER: op=syncLimitTest, i=20, configuring perf.now to return 190 then 210
TEST LOOP: Metrics after duration 20: [16,17,18,19,20]
TEST LOOP: Iteration for intended duration 21
TEST HELPER: op=syncLimitTest, i=21, configuring perf.now to return 210 then 231
TEST LOOP: Metrics after duration 21: [17,18,19,20,21]
TEST LOOP: Iteration for intended duration 22
TEST HELPER: op=syncLimitTest, i=22, configuring perf.now to return 231 then 253
TEST LOOP: Metrics after duration 22: [18,19,20,21,22]
TEST LOOP: Iteration for intended duration 23
TEST HELPER: op=syncLimitTest, i=23, configuring perf.now to return 253 then 276
TEST LOOP: Metrics after duration 23: [19,20,21,22,23]
TEST LOOP: Iteration for intended duration 24
TEST HELPER: op=syncLimitTest, i=24, configuring perf.now to return 276 then 300
TEST LOOP: Metrics after duration 24: [20,21,22,23,24]
TEST LOOP: Iteration for intended duration 25
TEST HELPER: op=syncLimitTest, i=25, configuring perf.now to return 300 then 325
TEST LOOP: Metrics after duration 25: [21,22,23,24,25]
TEST LOOP: Iteration for intended duration 26
TEST HELPER: op=syncLimitTest, i=26, configuring perf.now to return 325 then 351
TEST LOOP: Metrics after duration 26: [22,23,24,25,26]
TEST LOOP: Iteration for intended duration 27
TEST HELPER: op=syncLimitTest, i=27, configuring perf.now to return 351 then 378
TEST LOOP: Metrics after duration 27: [23,24,25,26,27]
TEST LOOP: Iteration for intended duration 28
TEST HELPER: op=syncLimitTest, i=28, configuring perf.now to return 378 then 406
TEST LOOP: Metrics after duration 28: [24,25,26,27,28]
TEST LOOP: Iteration for intended duration 29
TEST HELPER: op=syncLimitTest, i=29, configuring perf.now to return 406 then 435
TEST LOOP: Metrics after duration 29: [25,26,27,28,29]
TEST LOOP: Iteration for intended duration 30
TEST HELPER: op=syncLimitTest, i=30, configuring perf.now to return 435 then 465
TEST LOOP: Metrics after duration 30: [26,27,28,29,30]
TEST LOOP: Iteration for intended duration 31
TEST HELPER: op=syncLimitTest, i=31, configuring perf.now to return 465 then 496
TEST LOOP: Metrics after duration 31: [27,28,29,30,31]
TEST LOOP: Iteration for intended duration 32
TEST HELPER: op=syncLimitTest, i=32, configuring perf.now to return 496 then 528
TEST LOOP: Metrics after duration 32: [28,29,30,31,32]
TEST LOOP: Iteration for intended duration 33
TEST HELPER: op=syncLimitTest, i=33, configuring perf.now to return 528 then 561
TEST LOOP: Metrics after duration 33: [29,30,31,32,33]
TEST LOOP: Iteration for intended duration 34
TEST HELPER: op=syncLimitTest, i=34, configuring perf.now to return 561 then 595
TEST LOOP: Metrics after duration 34: [30,31,32,33,34]
TEST LOOP: Iteration for intended duration 35
TEST HELPER: op=syncLimitTest, i=35, configuring perf.now to return 595 then 630
TEST LOOP: Metrics after duration 35: [31,32,33,34,35]
TEST LOOP: Iteration for intended duration 36
TEST HELPER: op=syncLimitTest, i=36, configuring perf.now to return 630 then 666
TEST LOOP: Metrics after duration 36: [32,33,34,35,36]
TEST LOOP: Iteration for intended duration 37
TEST HELPER: op=syncLimitTest, i=37, configuring perf.now to return 666 then 703
TEST LOOP: Metrics after duration 37: [33,34,35,36,37]
TEST LOOP: Iteration for intended duration 38
TEST HELPER: op=syncLimitTest, i=38, configuring perf.now to return 703 then 741
TEST LOOP: Metrics after duration 38: [34,35,36,37,38]
TEST LOOP: Iteration for intended duration 39
TEST HELPER: op=syncLimitTest, i=39, configuring perf.now to return 741 then 780
TEST LOOP: Metrics after duration 39: [35,36,37,38,39]
TEST LOOP: Iteration for intended duration 40
TEST HELPER: op=syncLimitTest, i=40, configuring perf.now to return 780 then 820
TEST LOOP: Metrics after duration 40: [36,37,38,39,40]
TEST LOOP: Iteration for intended duration 41
TEST HELPER: op=syncLimitTest, i=41, configuring perf.now to return 820 then 861
TEST LOOP: Metrics after duration 41: [37,38,39,40,41]
TEST LOOP: Iteration for intended duration 42
TEST HELPER: op=syncLimitTest, i=42, configuring perf.now to return 861 then 903
TEST LOOP: Metrics after duration 42: [38,39,40,41,42]
TEST LOOP: Iteration for intended duration 43
TEST HELPER: op=syncLimitTest, i=43, configuring perf.now to return 903 then 946
TEST LOOP: Metrics after duration 43: [39,40,41,42,43]
TEST LOOP: Iteration for intended duration 44
TEST HELPER: op=syncLimitTest, i=44, configuring perf.now to return 946 then 990
TEST LOOP: Metrics after duration 44: [40,41,42,43,44]
TEST LOOP: Iteration for intended duration 45
TEST HELPER: op=syncLimitTest, i=45, configuring perf.now to return 990 then 1035
TEST LOOP: Metrics after duration 45: [41,42,43,44,45]
TEST LOOP: Iteration for intended duration 46
TEST HELPER: op=syncLimitTest, i=46, configuring perf.now to return 1035 then 1081
TEST LOOP: Metrics after duration 46: [42,43,44,45,46]
TEST LOOP: Iteration for intended duration 47
TEST HELPER: op=syncLimitTest, i=47, configuring perf.now to return 1081 then 1128
TEST LOOP: Metrics after duration 47: [43,44,45,46,47]
TEST LOOP: Iteration for intended duration 48
TEST HELPER: op=syncLimitTest, i=48, configuring perf.now to return 1128 then 1176
TEST LOOP: Metrics after duration 48: [44,45,46,47,48]
TEST LOOP: Iteration for intended duration 49
TEST HELPER: op=syncLimitTest, i=49, configuring perf.now to return 1176 then 1225
TEST LOOP: Metrics after duration 49: [45,46,47,48,49]
TEST LOOP: Iteration for intended duration 50
TEST HELPER: op=syncLimitTest, i=50, configuring perf.now to return 1225 then 1275
TEST LOOP: Metrics after duration 50: [46,47,48,49,50]
TEST LOOP: Iteration for intended duration 51
TEST HELPER: op=syncLimitTest, i=51, configuring perf.now to return 1275 then 1326
TEST LOOP: Metrics after duration 51: [47,48,49,50,51]
TEST LOOP: Iteration for intended duration 52
TEST HELPER: op=syncLimitTest, i=52, configuring perf.now to return 1326 then 1378
TEST LOOP: Metrics after duration 52: [48,49,50,51,52]
TEST LOOP: Iteration for intended duration 53
TEST HELPER: op=syncLimitTest, i=53, configuring perf.now to return 1378 then 1431
TEST LOOP: Metrics after duration 53: [49,50,51,52,53]
TEST LOOP: Iteration for intended duration 54
TEST HELPER: op=syncLimitTest, i=54, configuring perf.now to return 1431 then 1485
TEST LOOP: Metrics after duration 54: [50,51,52,53,54]
TEST LOOP: Iteration for intended duration 55
TEST HELPER: op=syncLimitTest, i=55, configuring perf.now to return 1485 then 1540
TEST LOOP: Metrics after duration 55: [51,52,53,54,55]
TEST LOOP: Iteration for intended duration 56
TEST HELPER: op=syncLimitTest, i=56, configuring perf.now to return 1540 then 1596
TEST LOOP: Metrics after duration 56: [52,53,54,55,56]
TEST LOOP: Iteration for intended duration 57
TEST HELPER: op=syncLimitTest, i=57, configuring perf.now to return 1596 then 1653
TEST LOOP: Metrics after duration 57: [53,54,55,56,57]
TEST LOOP: Iteration for intended duration 58
TEST HELPER: op=syncLimitTest, i=58, configuring perf.now to return 1653 then 1711
TEST LOOP: Metrics after duration 58: [54,55,56,57,58]
TEST LOOP: Iteration for intended duration 59
TEST HELPER: op=syncLimitTest, i=59, configuring perf.now to return 1711 then 1770
TEST LOOP: Metrics after duration 59: [55,56,57,58,59]
TEST LOOP: Iteration for intended duration 60
TEST HELPER: op=syncLimitTest, i=60, configuring perf.now to return 1770 then 1830
TEST LOOP: Metrics after duration 60: [56,57,58,59,60]
TEST LOOP: Iteration for intended duration 61
TEST HELPER: op=syncLimitTest, i=61, configuring perf.now to return 1830 then 1891
TEST LOOP: Metrics after duration 61: [57,58,59,60,61]
TEST LOOP: Iteration for intended duration 62
TEST HELPER: op=syncLimitTest, i=62, configuring perf.now to return 1891 then 1953
TEST LOOP: Metrics after duration 62: [58,59,60,61,62]
TEST LOOP: Iteration for intended duration 63
TEST HELPER: op=syncLimitTest, i=63, configuring perf.now to return 1953 then 2016
TEST LOOP: Metrics after duration 63: [59,60,61,62,63]
TEST LOOP: Iteration for intended duration 64
TEST HELPER: op=syncLimitTest, i=64, configuring perf.now to return 2016 then 2080
TEST LOOP: Metrics after duration 64: [60,61,62,63,64]
TEST LOOP: Iteration for intended duration 65
TEST HELPER: op=syncLimitTest, i=65, configuring perf.now to return 2080 then 2145
TEST LOOP: Metrics after duration 65: [61,62,63,64,65]
TEST LOOP: Iteration for intended duration 66
TEST HELPER: op=syncLimitTest, i=66, configuring perf.now to return 2145 then 2211
TEST LOOP: Metrics after duration 66: [62,63,64,65,66]
TEST LOOP: Iteration for intended duration 67
TEST HELPER: op=syncLimitTest, i=67, configuring perf.now to return 2211 then 2278
TEST LOOP: Metrics after duration 67: [63,64,65,66,67]
TEST LOOP: Iteration for intended duration 68
TEST HELPER: op=syncLimitTest, i=68, configuring perf.now to return 2278 then 2346
TEST LOOP: Metrics after duration 68: [64,65,66,67,68]
TEST LOOP: Iteration for intended duration 69
TEST HELPER: op=syncLimitTest, i=69, configuring perf.now to return 2346 then 2415
TEST LOOP: Metrics after duration 69: [65,66,67,68,69]
TEST LOOP: Iteration for intended duration 70
TEST HELPER: op=syncLimitTest, i=70, configuring perf.now to return 2415 then 2485
TEST LOOP: Metrics after duration 70: [66,67,68,69,70]
TEST LOOP: Iteration for intended duration 71
TEST HELPER: op=syncLimitTest, i=71, configuring perf.now to return 2485 then 2556
TEST LOOP: Metrics after duration 71: [67,68,69,70,71]
TEST LOOP: Iteration for intended duration 72
TEST HELPER: op=syncLimitTest, i=72, configuring perf.now to return 2556 then 2628
TEST LOOP: Metrics after duration 72: [68,69,70,71,72]
TEST LOOP: Iteration for intended duration 73
TEST HELPER: op=syncLimitTest, i=73, configuring perf.now to return 2628 then 2701
TEST LOOP: Metrics after duration 73: [69,70,71,72,73]
TEST LOOP: Iteration for intended duration 74
TEST HELPER: op=syncLimitTest, i=74, configuring perf.now to return 2701 then 2775
TEST LOOP: Metrics after duration 74: [70,71,72,73,74]
TEST LOOP: Iteration for intended duration 75
TEST HELPER: op=syncLimitTest, i=75, configuring perf.now to return 2775 then 2850
TEST LOOP: Metrics after duration 75: [71,72,73,74,75]
TEST LOOP: Iteration for intended duration 76
TEST HELPER: op=syncLimitTest, i=76, configuring perf.now to return 2850 then 2926
TEST LOOP: Metrics after duration 76: [72,73,74,75,76]
TEST LOOP: Iteration for intended duration 77
TEST HELPER: op=syncLimitTest, i=77, configuring perf.now to return 2926 then 3003
TEST LOOP: Metrics after duration 77: [73,74,75,76,77]
TEST LOOP: Iteration for intended duration 78
TEST HELPER: op=syncLimitTest, i=78, configuring perf.now to return 3003 then 3081
TEST LOOP: Metrics after duration 78: [74,75,76,77,78]
TEST LOOP: Iteration for intended duration 79
TEST HELPER: op=syncLimitTest, i=79, configuring perf.now to return 3081 then 3160
TEST LOOP: Metrics after duration 79: [75,76,77,78,79]
TEST LOOP: Iteration for intended duration 80
TEST HELPER: op=syncLimitTest, i=80, configuring perf.now to return 3160 then 3240
TEST LOOP: Metrics after duration 80: [76,77,78,79,80]
TEST LOOP: Iteration for intended duration 81
TEST HELPER: op=syncLimitTest, i=81, configuring perf.now to return 3240 then 3321
TEST LOOP: Metrics after duration 81: [77,78,79,80,81]
TEST LOOP: Iteration for intended duration 82
TEST HELPER: op=syncLimitTest, i=82, configuring perf.now to return 3321 then 3403
TEST LOOP: Metrics after duration 82: [78,79,80,81,82]
TEST LOOP: Iteration for intended duration 83
TEST HELPER: op=syncLimitTest, i=83, configuring perf.now to return 3403 then 3486
TEST LOOP: Metrics after duration 83: [79,80,81,82,83]
TEST LOOP: Iteration for intended duration 84
TEST HELPER: op=syncLimitTest, i=84, configuring perf.now to return 3486 then 3570
TEST LOOP: Metrics after duration 84: [80,81,82,83,84]
TEST LOOP: Iteration for intended duration 85
TEST HELPER: op=syncLimitTest, i=85, configuring perf.now to return 3570 then 3655
TEST LOOP: Metrics after duration 85: [81,82,83,84,85]
TEST LOOP: Iteration for intended duration 86
TEST HELPER: op=syncLimitTest, i=86, configuring perf.now to return 3655 then 3741
TEST LOOP: Metrics after duration 86: [82,83,84,85,86]
TEST LOOP: Iteration for intended duration 87
TEST HELPER: op=syncLimitTest, i=87, configuring perf.now to return 3741 then 3828
TEST LOOP: Metrics after duration 87: [83,84,85,86,87]
TEST LOOP: Iteration for intended duration 88
TEST HELPER: op=syncLimitTest, i=88, configuring perf.now to return 3828 then 3916
TEST LOOP: Metrics after duration 88: [84,85,86,87,88]
TEST LOOP: Iteration for intended duration 89
TEST HELPER: op=syncLimitTest, i=89, configuring perf.now to return 3916 then 4005
TEST LOOP: Metrics after duration 89: [85,86,87,88,89]
TEST LOOP: Iteration for intended duration 90
TEST HELPER: op=syncLimitTest, i=90, configuring perf.now to return 4005 then 4095
TEST LOOP: Metrics after duration 90: [86,87,88,89,90]
TEST LOOP: Iteration for intended duration 91
TEST HELPER: op=syncLimitTest, i=91, configuring perf.now to return 4095 then 4186
TEST LOOP: Metrics after duration 91: [87,88,89,90,91]
TEST LOOP: Iteration for intended duration 92
TEST HELPER: op=syncLimitTest, i=92, configuring perf.now to return 4186 then 4278
TEST LOOP: Metrics after duration 92: [88,89,90,91,92]
TEST LOOP: Iteration for intended duration 93
TEST HELPER: op=syncLimitTest, i=93, configuring perf.now to return 4278 then 4371
TEST LOOP: Metrics after duration 93: [89,90,91,92,93]
TEST LOOP: Iteration for intended duration 94
TEST HELPER: op=syncLimitTest, i=94, configuring perf.now to return 4371 then 4465
TEST LOOP: Metrics after duration 94: [90,91,92,93,94]
TEST LOOP: Iteration for intended duration 95
TEST HELPER: op=syncLimitTest, i=95, configuring perf.now to return 4465 then 4560
TEST LOOP: Metrics after duration 95: [91,92,93,94,95]
TEST LOOP: Iteration for intended duration 96
TEST HELPER: op=syncLimitTest, i=96, configuring perf.now to return 4560 then 4656
TEST LOOP: Metrics after duration 96: [92,93,94,95,96]
TEST LOOP: Iteration for intended duration 97
TEST HELPER: op=syncLimitTest, i=97, configuring perf.now to return 4656 then 4753
TEST LOOP: Metrics after duration 97: [93,94,95,96,97]
TEST LOOP: Iteration for intended duration 98
TEST HELPER: op=syncLimitTest, i=98, configuring perf.now to return 4753 then 4851
TEST LOOP: Metrics after duration 98: [94,95,96,97,98]
TEST LOOP: Iteration for intended duration 99
TEST HELPER: op=syncLimitTest, i=99, configuring perf.now to return 4851 then 4950
TEST LOOP: Metrics after duration 99: [95,96,97,98,99]
TEST LOOP: Iteration for intended duration 100
TEST HELPER: op=syncLimitTest, i=100, configuring perf.now to return 4950 then 5050
TEST LOOP: Metrics after duration 100: [96,97,98,99,100]
TEST LOOP: Iteration for intended duration 101
TEST HELPER: op=syncLimitTest, i=101, configuring perf.now to return 5050 then 5151
TEST LOOP: Metrics after duration 101: [97,98,99,100,101]
TEST LOOP: Iteration for intended duration 102
TEST HELPER: op=syncLimitTest, i=102, configuring perf.now to return 5151 then 5253
TEST LOOP: Metrics after duration 102: [98,99,100,101,102]
TEST LOOP: Iteration for intended duration 103
TEST HELPER: op=syncLimitTest, i=103, configuring perf.now to return 5253 then 5356
TEST LOOP: Metrics after duration 103: [99,100,101,102,103]
TEST LOOP: Iteration for intended duration 104
TEST HELPER: op=syncLimitTest, i=104, configuring perf.now to return 5356 then 5460
TEST LOOP: Metrics after duration 104: [100,101,102,103,104]
TEST LOOP: Iteration for intended duration 105
TEST HELPER: op=syncLimitTest, i=105, configuring perf.now to return 5460 then 5565
TEST LOOP: Metrics after duration 105: [101,102,103,104,105]

stderr | src/engine/StateManager.test.ts > StateManager > Internal State Management > should update error state via setError
StateManager [ERROR] Error set: Error: Failure
    at E:\Work\onboardjs\packages\core\src\engine\StateManager.test.ts:355:31
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=2, configuring perf.now to return 0 then 2

stderr | src/engine/StateManager.test.ts > StateManager > Internal State Management > should clear error state by setting it to null
StateManager [ERROR] Error set: Error: Failure
    at E:\Work\onboardjs\packages\core\src\engine\StateManager.test.ts:362:35
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=4, configuring perf.now to return 2 then 6

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=6, configuring perf.now to return 6 then 12

 [32mÃ”Â£Ã´[39m src/types/Result.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 11[2mms[22m[39m
[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=8, configuring perf.now to return 12 then 20

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=10, configuring perf.now to return 20 then 30

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=12, configuring perf.now to return 30 then 42

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=14, configuring perf.now to return 42 then 56

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=16, configuring perf.now to return 56 then 72

 [32mÃ”Â£Ã´[39m src/plugins/PluginManager.test.ts [2m([22m[2m26 tests[22m[2m)[22m[32m 59[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/engine/EventManager.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 31[2mms[22m[39m
[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=18, configuring perf.now to return 72 then 90

stderr | src/services/CoreEngineService.test.ts > CoreEngineService > state setters > should set error state
CoreEngineService [ERROR] Error set: Error: Test error
    at E:\Work\onboardjs\packages\core\src\services\CoreEngineService.test.ts:76:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

 [32mÃ”Â£Ã´[39m src/utils/flow-validator.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 8[2mms[22m[39m
[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=20, configuring perf.now to return 90 then 110

 [32mÃ”Â£Ã´[39m src/engine/StateManager.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 34[2mms[22m[39m
stderr | src/services/CoreEngineService.test.ts > CoreEngineService > getState > should disable navigation when there is an error
CoreEngineService [ERROR] Error set: Error: Test error
    at E:\Work\onboardjs\packages\core\src\services\CoreEngineService.test.ts:167:31
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=22, configuring perf.now to return 110 then 132

 [32mÃ”Â£Ã´[39m src/analytics/analytics-manager.test.ts [2m([22m[2m57 tests[22m[2m)[22m[32m 73[2mms[22m[39m
[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=24, configuring perf.now to return 132 then 156

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=26, configuring perf.now to return 156 then 182

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=28, configuring perf.now to return 182 then 210

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=30, configuring perf.now to return 210 then 240

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=32, configuring perf.now to return 240 then 272

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=34, configuring perf.now to return 272 then 306

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=36, configuring perf.now to return 306 then 342

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=38, configuring perf.now to return 342 then 380

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=40, configuring perf.now to return 380 then 420

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=42, configuring perf.now to return 420 then 462

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=44, configuring perf.now to return 462 then 506

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=46, configuring perf.now to return 506 then 552

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=48, configuring perf.now to return 552 then 600

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=50, configuring perf.now to return 600 then 650

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=52, configuring perf.now to return 650 then 702

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=54, configuring perf.now to return 702 then 756

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=56, configuring perf.now to return 756 then 812

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=58, configuring perf.now to return 812 then 870

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=60, configuring perf.now to return 870 then 930

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=62, configuring perf.now to return 930 then 992

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=64, configuring perf.now to return 992 then 1056

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=66, configuring perf.now to return 1056 then 1122

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=68, configuring perf.now to return 1122 then 1190

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=70, configuring perf.now to return 1190 then 1260

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=72, configuring perf.now to return 1260 then 1332

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=74, configuring perf.now to return 1332 then 1406

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=76, configuring perf.now to return 1406 then 1482

 [32mÃ”Â£Ã´[39m src/engine/ConfigurationBuilder.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/plugins/BasePlugin.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 23[2mms[22m[39m
[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=78, configuring perf.now to return 1482 then 1560

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=80, configuring perf.now to return 1560 then 1640

 [32mÃ”Â£Ã´[39m src/services/CoreEngineService.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 23[2mms[22m[39m
[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=82, configuring perf.now to return 1640 then 1722

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=84, configuring perf.now to return 1722 then 1806

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=86, configuring perf.now to return 1806 then 1892

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=88, configuring perf.now to return 1892 then 1980

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=90, configuring perf.now to return 1980 then 2070

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=92, configuring perf.now to return 2070 then 2162

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=94, configuring perf.now to return 2162 then 2256

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=96, configuring perf.now to return 2256 then 2352

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=98, configuring perf.now to return 2352 then 2450

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=100, configuring perf.now to return 2450 then 2550

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=102, configuring perf.now to return 2550 then 2652

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=104, configuring perf.now to return 2652 then 2756

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=106, configuring perf.now to return 2756 then 2862

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=108, configuring perf.now to return 2862 then 2970

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=110, configuring perf.now to return 2970 then 3080

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=112, configuring perf.now to return 3080 then 3192

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=114, configuring perf.now to return 3192 then 3306

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=116, configuring perf.now to return 3306 then 3422

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=118, configuring perf.now to return 3422 then 3540

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=120, configuring perf.now to return 3540 then 3660

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=122, configuring perf.now to return 3660 then 3782

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=124, configuring perf.now to return 3782 then 3906

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=126, configuring perf.now to return 3906 then 4032

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=128, configuring perf.now to return 4032 then 4160

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=130, configuring perf.now to return 4160 then 4290

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=132, configuring perf.now to return 4290 then 4422

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=134, configuring perf.now to return 4422 then 4556

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=136, configuring perf.now to return 4556 then 4692

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=138, configuring perf.now to return 4692 then 4830

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=140, configuring perf.now to return 4830 then 4970

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=142, configuring perf.now to return 4970 then 5112

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=144, configuring perf.now to return 5112 then 5256

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=146, configuring perf.now to return 5256 then 5402

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=148, configuring perf.now to return 5402 then 5550

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=150, configuring perf.now to return 5550 then 5700

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=152, configuring perf.now to return 5700 then 5852

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=154, configuring perf.now to return 5852 then 6006

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=156, configuring perf.now to return 6006 then 6162

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=158, configuring perf.now to return 6162 then 6320

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=160, configuring perf.now to return 6320 then 6480

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=162, configuring perf.now to return 6480 then 6642

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=164, configuring perf.now to return 6642 then 6806

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=166, configuring perf.now to return 6806 then 6972

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=168, configuring perf.now to return 6972 then 7140

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=170, configuring perf.now to return 7140 then 7310

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=172, configuring perf.now to return 7310 then 7482

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=174, configuring perf.now to return 7482 then 7656

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=176, configuring perf.now to return 7656 then 7832

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=178, configuring perf.now to return 7832 then 8010

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=180, configuring perf.now to return 8010 then 8190

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=182, configuring perf.now to return 8190 then 8372

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=184, configuring perf.now to return 8372 then 8556

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=186, configuring perf.now to return 8556 then 8742

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=188, configuring perf.now to return 8742 then 8930

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=190, configuring perf.now to return 8930 then 9120

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=192, configuring perf.now to return 9120 then 9312

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=194, configuring perf.now to return 9312 then 9506

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=196, configuring perf.now to return 9506 then 9702

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=198, configuring perf.now to return 9702 then 9900

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=200, configuring perf.now to return 9900 then 10100

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=202, configuring perf.now to return 10100 then 10302

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=204, configuring perf.now to return 10302 then 10506

[90mstdout[2m | src/utils/PerformanceUtils.test.ts[2m > [22m[2mPerformanceUtils[2m > [22m[2mmeasurePerformance & measureAsyncPerformance[2m > [22m[2mmeasureAsyncPerformance should keep only the last 100 measurements, shifting out oldest
[22m[39mTEST HELPER ASYNC: op=asyncLimitTest, i=206, configuring perf.now to return 10506 then 10712

 [32mÃ”Â£Ã´[39m src/utils/PerformanceUtils.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 87[2mms[22m[39m
[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mBasic Tracking[2m > [22m[2mshould track a basic aha moment
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_123

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mBasic Tracking[2m > [22m[2mshould auto-generate session ID
[22m[39mAhaTracker [INFO] Aha moment tracked: workflow_completion for user user_456

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mBasic Tracking[2m > [22m[2mshould set default journey stage to activation
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_789

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mBasic Tracking[2m > [22m[2mshould respect custom journey stage
[22m[39mAhaTracker [INFO] Aha moment tracked: engagement_threshold for user user_101

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mBasic Tracking[2m > [22m[2mshould include timestamp and timezone
[22m[39mAhaTracker [INFO] Aha moment tracked: setup_completion for user user_102

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mMetrics Calculation[2m > [22m[2mshould calculate time_to_aha_seconds
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_200

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mMetrics Calculation[2m > [22m[2mshould calculate time_since_signup_seconds
[22m[39mAhaTracker [INFO] Aha moment tracked: workflow_completion for user user_201

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mMetrics Calculation[2m > [22m[2mshould accept custom metrics
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_202

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mContext Building[2m > [22m[2mshould track first aha correctly
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_300

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mContext Building[2m > [22m[2mshould track subsequent aha events
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_301

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mContext Building[2m > [22m[2mshould track subsequent aha events
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_301

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mContext Building[2m > [22m[2mshould accept custom context
[22m[39mAhaTracker [INFO] Aha moment tracked: workflow_completion for user user_302

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mDeduplication[2m > [22m[2mshould respect max_events_per_user
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_400

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mDeduplication[2m > [22m[2mshould respect max_events_per_user
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_400

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mDeduplication[2m > [22m[2mshould respect cooldown period
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_401

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mDeduplication[2m > [22m[2mshould track for different users independently
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_402

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mDeduplication[2m > [22m[2mshould track for different users independently
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_403

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mAnalytics Integration[2m > [22m[2mshould send events to AnalyticsManager
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_500

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mAnalytics Integration[2m > [22m[2mshould send events to custom providers
[22m[39mAhaTracker [INFO] Aha moment tracked: workflow_completion for user user_501

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mUser Statistics[2m > [22m[2mshould return user aha statistics
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_600

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mUser Statistics[2m > [22m[2mshould return user aha statistics
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_600

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mUser Statistics[2m > [22m[2mshould clear user data
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user user_601

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mConvenience Function[2m > [22m[2mshould work with aha() shorthand
[22m[39mAhaTracker [INFO] Aha moment tracked: value_demonstration for user user_700

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mExperiments[2m > [22m[2mshould track experiment data
[22m[39mAhaTracker [INFO] Aha moment tracked: workflow_completion for user user_800

[90mstdout[2m | src/analytics/aha-tracker/aha-tracker.test.ts[2m > [22m[2mAhaTracker[2m > [22m[2mAnonymous Users[2m > [22m[2mshould track anonymous users
[22m[39mAhaTracker [INFO] Aha moment tracked: feature_activation for user anon_123

 [32mÃ”Â£Ã´[39m src/analytics/aha-tracker/aha-tracker.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 53[2mms[22m[39m
stderr | src/services/PersistenceService.test.ts > PersistenceService > loadPersistedData > should handle load errors gracefully
PersistenceService [ERROR] Error during loadData: Error: Load failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:62:59
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/services/PersistenceService.test.ts > PersistenceService > persistDataIfNeeded > should emit persistenceFailure event on error
PersistenceService [ERROR] Error during persistData: Error: Persist failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:129:62
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
[ErrorHandler] [ERROR] [OnboardingEngine] persistData: Error: Persist failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:129:62
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8) {
  operation: 'persistData',
  stepId: undefined,
  timestamp: 1765547836178,
  stack: 'Error: Persist failed\n' +
    '    at E:\\Work\\onboardjs\\packages\\core\\src\\services\\PersistenceService.test.ts:129:62\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n' +
    '    at new Promise (<anonymous>)\n' +
    '    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n' +
    '    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'
}
StateManager [ERROR] Error set: Error: Persist failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:129:62
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/services/PersistenceService.test.ts > PersistenceService > persistDataIfNeeded > should not throw on persistence error
PersistenceService [ERROR] Error during persistData: Error: Persist failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:146:62
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
[ErrorHandler] [ERROR] [OnboardingEngine] persistData: Error: Persist failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:146:62
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8) {
  operation: 'persistData',
  stepId: undefined,
  timestamp: 1765547836180,
  stack: 'Error: Persist failed\n' +
    '    at E:\\Work\\onboardjs\\packages\\core\\src\\services\\PersistenceService.test.ts:146:62\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n' +
    '    at new Promise (<anonymous>)\n' +
    '    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n' +
    '    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'
}
StateManager [ERROR] Error set: Error: Persist failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:146:62
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/services/PersistenceService.test.ts > PersistenceService > clearData > should propagate errors from clear handler
PersistenceService [ERROR] Error during clearPersistedData: Error: Clear failed
    at E:\Work\onboardjs\packages\core\src\services\PersistenceService.test.ts:172:60
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Initialization > should handle empty steps array
OnboardingEngine[3] [WARN] Configuration warnings: [ 'No steps defined in configuration' ]

 [32mÃ”Â£Ã´[39m src/services/PersistenceService.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 33[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/engine/OnboardingEngineRegistry.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/engine/ErrorHandler.test.ts [2m([22m[2m20 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 50[2mms[22m[39m
stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Navigation > should handle errors when onFlowComplete throws
CoreEngineService [ERROR] Error set: Error: Flow complete error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:422:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
[ErrorHandler] [ERROR] [OnboardingEngine] onFlowComplete: Error: Flow complete error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:422:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8) {
  operation: 'onFlowComplete',
  stepId: undefined,
  timestamp: 1765547836230,
  stack: 'Error: Flow complete error\n' +
    '    at E:\\Work\\onboardjs\\packages\\core\\src\\engine\\OnboardingEngine.test.ts:422:27\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n' +
    '    at new Promise (<anonymous>)\n' +
    '    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n' +
    '    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'
}
CoreEngineService [ERROR] Error set: Error: Flow complete error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:422:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Navigation > should set error if onStepActive throws
[ErrorHandler] [ERROR] [OnboardingEngine] onStepActive for step2: Error: onStepActive error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:519:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8) {
  operation: 'onStepActive for step2',
  stepId: undefined,
  timestamp: 1765547836235,
  stack: 'Error: onStepActive error\n' +
    '    at E:\\Work\\onboardjs\\packages\\core\\src\\engine\\OnboardingEngine.test.ts:519:27\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n' +
    '    at new Promise (<anonymous>)\n' +
    '    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n' +
    '    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n' +
    '    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'
}
CoreEngineService [ERROR] Error set: Error: onStepActive error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:519:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/services/NavigationService.test.ts > NavigationService > Checklist Management > Checklist navigation blocking > should prevent next() when checklist criteria not met
NavigationService [WARN] [NavigationService] Cannot proceed from checklist step 'checklist-step': Not all completion criteria met.
StateManager [ERROR] Error set: Error: Checklist criteria not met.
    at NavigationService.next (E:\Work\onboardjs\packages\core\src\services\NavigationService.ts:164:31)
    at E:\Work\onboardjs\packages\core\src\services\NavigationService.test.ts:671:55
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Checklist Steps > should prevent navigation when mandatory items not completed
OnboardingEngine[58] [ERROR] Cannot update checklist item: Step 'undefined' not found or not a CHECKLIST step.
CoreEngineService [ERROR] Error set: Error: Target step for checklist item update is invalid.
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:643:31
    at _queue.add.priority.priority (E:\Work\onboardjs\packages\core\src\services\AsyncOperationQueue.ts:88:27)
    at file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:223:37
    at PQueue.#tryToStartAnother (file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:120:17)
    at file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:247:36
    at new Promise (<anonymous>)
    at PQueue.add (file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:217:16)
    at AsyncOperationQueue.enqueue (E:\Work\onboardjs\packages\core\src\services\AsyncOperationQueue.ts:86:31)
    at OnboardingEngine.updateChecklistItem (E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:639:37)
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:991:26

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Checklist Steps > should prevent navigation when mandatory items not completed
CoreEngineService [ERROR] Error set: Error: Checklist criteria not met.
    at NavigationService.next (E:\Work\onboardjs\packages\core\src\services\NavigationService.ts:164:31)
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:516:71
    at _queue.add.priority.priority (E:\Work\onboardjs\packages\core\src\services\AsyncOperationQueue.ts:88:27)
    at file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:223:37
    at PQueue.#tryToStartAnother (file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:120:17)
    at file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:247:36
    at new Promise (<anonymous>)
    at PQueue.add (file:///E:/Work/onboardjs/node_modules/.pnpm/p-queue@8.1.1/node_modules/p-queue/dist/index.js:217:16)
    at AsyncOperationQueue.enqueue (E:\Work\onboardjs\packages\core\src\services\AsyncOperationQueue.ts:86:31)
    at OnboardingEngine.next (E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:515:37)

 [32mÃ”Â£Ã´[39m src/services/NavigationService.test.ts [2m([22m[2m52 tests[22m[2m)[22m[32m 51[2mms[22m[39m
 [32mÃ”Â£Ã´[39m src/services/AsyncOperationQueue.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 557[2mms[22m[39m
stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Error Handling > should allow external code to report errors
[ErrorHandler] [ERROR] [OnboardingEngine] test-error: Error: External error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:1432:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8) {
  operation: 'test-error',
  stepId: undefined,
  timestamp: 1765547836403,
  stack: 'Error: External error\n' +
    '    at E:\\Work\\onboardjs\\packages\\core\\src\\engine\\OnboardingEngine.test.ts:1432:27\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n' +
    '    at new Promise (<anonymous>)\n' +
    '    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n' +
    '    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'
}
CoreEngineService [ERROR] Error set: Error: External error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:1432:27
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Edge Cases > ready() > should resolve even if data loading fails
[ErrorHandler] [ERROR] [OnboardingEngine] onStepActive for step1: Error: Hook error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:1638:64
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8) {
  operation: 'onStepActive for step1',
  stepId: undefined,
  timestamp: 1765547836412,
  stack: 'Error: Hook error\n' +
    '    at E:\\Work\\onboardjs\\packages\\core\\src\\engine\\OnboardingEngine.test.ts:1638:64\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n' +
    '    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n' +
    '    at new Promise (<anonymous>)\n' +
    '    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n' +
    '    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n' +
    '    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)'
}
CoreEngineService [ERROR] Error set: Error: Hook error
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:1638:64
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Event Handlers > State Change Listeners > should notify state change listeners on error state changes
[ErrorHandler] [ERROR] [OnboardingEngine] onStepActive for step2: Error: Step activation error
    at Object.onStepActive (E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:2035:35)
    at NavigationOrchestrator._handleStepActivation (E:\Work\onboardjs\packages\core\src\services\NavigationOrchestrator.ts:281:38)
    at NavigationOrchestrator.navigateToStep (E:\Work\onboardjs\packages\core\src\services\NavigationOrchestrator.ts:103:24) {
  operation: 'onStepActive for step2',
  stepId: undefined,
  timestamp: 1765547836480,
  stack: 'Error: Step activation error\n' +
    '    at Object.onStepActive (E:\\Work\\onboardjs\\packages\\core\\src\\engine\\OnboardingEngine.test.ts:2035:35)\n' +
    '    at NavigationOrchestrator._handleStepActivation (E:\\Work\\onboardjs\\packages\\core\\src\\services\\NavigationOrchestrator.ts:281:38)\n' +
    '    at NavigationOrchestrator.navigateToStep (E:\\Work\\onboardjs\\packages\\core\\src\\services\\NavigationOrchestrator.ts:103:24)'
}
CoreEngineService [ERROR] Error set: Error: Step activation error
    at Object.onStepActive (E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:2035:35)
    at NavigationOrchestrator._handleStepActivation (E:\Work\onboardjs\packages\core\src\services\NavigationOrchestrator.ts:281:38)
    at NavigationOrchestrator.navigateToStep (E:\Work\onboardjs\packages\core\src\services\NavigationOrchestrator.ts:103:24)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Plugin Integration > should handle plugin installation failures gracefully
PluginManager [ERROR] Failed to install plugin "failing-plugin": Error: Plugin failed
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.test.ts:2156:52
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26
    at file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)
    at runTest (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)
    at runSuite (file:///E:/Work/onboardjs/node_modules/.pnpm/@vitest+runner@3.2.4/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Plugin Integration > should handle plugin installation failures gracefully
OnboardingEngine[130] [ERROR] Plugin installation failed for "failing-plugin": Plugin failed

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Plugin Integration > should handle plugin installation failures gracefully
OnboardingEngine[130] [ERROR] Critical error during engine initialization: Error: Plugin installation failed for "failing-plugin": Plugin failed
    at OnboardingEngine._installPlugins (E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:368:27)
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:253:17
    at PerformanceUtils.measureAsyncPerformance (E:\Work\onboardjs\packages\core\src\utils\PerformanceUtils.ts:153:24)
CoreEngineService [ERROR] Error set: Error: Plugin installation failed for "failing-plugin": Plugin failed
    at OnboardingEngine._installPlugins (E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:368:27)
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:253:17
    at PerformanceUtils.measureAsyncPerformance (E:\Work\onboardjs\packages\core\src\utils\PerformanceUtils.ts:153:24)

stderr | src/engine/OnboardingEngine.test.ts > OnboardingEngine > Plugin Integration > should handle plugin installation failures gracefully
OnboardingEngine[130] [ERROR] Unhandled error during constructor-initiated initialization: Error: Plugin installation failed for "failing-plugin": Plugin failed
    at OnboardingEngine._installPlugins (E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:368:27)
    at E:\Work\onboardjs\packages\core\src\engine\OnboardingEngine.ts:253:17
    at PerformanceUtils.measureAsyncPerformance (E:\Work\onboardjs\packages\core\src\utils\PerformanceUtils.ts:153:24)

 [31mÃ”Ã˜Â»[39m src/engine/OnboardingEngine.test.ts [2m([22m[2m134 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 524[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mInitialization[2m > [22mshould initialize with first step when no initial step is specified[32m 9[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mInitialization[2m > [22mshould initialize with specified initial step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mInitialization[2m > [22mshould handle empty steps array[32m 2[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mInitialization[2m > [22mshould merge initial context with default context[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould load data on initialization when loadData is provided[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould handle data loading errors gracefully[32m 4[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould persist data when context changes[32m 3[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould handle persistence errors gracefully[32m 13[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould handle no data returned from loadData[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould not lose existing flowData when loadedData is sparse[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould not persist if context did not change[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould persist data if context changed and not hydrating[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould load to step2 and be able to navigate back to step1[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mshould handle loading completed flow state[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mData Loading and Persistence[2m > [22mShould handle loading state with no current step and no flowData[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould navigate to next step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould navigate to previous step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mcanGoPrevious should be false if navigating back to the first step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle previous step when no previous step is defined[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle previous step when previousStep is not defined[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould navigate to specific step using goToStep[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle navigation with step data[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle goToStep navigation with step data[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould maintain navigation history[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould complete flow when reaching end[32m 2[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle errors when onFlowComplete throws[32m 3[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould navigate to a valid step by id[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould set currentStep to null if step id does not exist[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould skip steps with unmet condition[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould call beforeStepChange listeners and allow cancellation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould allow beforeStepChange listener to redirect navigation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould call onStepActive when entering a step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould set error if onStepActive throws[32m 2[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould call onFlowComplete when navigating from the last step (which has no nextStep)[32m 15[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould persist data when flow is completed[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould update history when navigating forward[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould not update history when navigating previous[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle circular navigation patterns[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle circular navigation patterns with goBack flag[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mNavigation[2m > [22mshould handle deeply nested conditional navigation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mStep Conditions[2m > [22mshould skip steps that do not meet conditions[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mDynamic Navigation Functions[2m > [22mshould handle function-based nextStep[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mDynamic Navigation Functions[2m > [22mshould handle empty nextStep property[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mDynamic Navigation Functions[2m > [22mshould handle empty nextStep property with Flow Finish if no other steps are provided[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mSkip Functionality[2m > [22mshould skip step when skippable[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mSkip Functionality[2m > [22mshould not skip non-skippable step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mChecklist Steps[2m > [22mshould initialize checklist items state[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mChecklist Steps[2m > [22mshould update checklist item state[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mChecklist Steps[2m > [22mshould prevent navigation when mandatory items not completed[32m 7[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mChecklist Steps[2m > [22mshould allow navigation when all mandatory items completed[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mChecklist Steps[2m > [22mshould handle minItemsToComplete rule[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mChecklist Steps[2m > [22mshould handle conditional checklist items[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mState Management[2m > [22mshould provide correct state information[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mState Management[2m > [22mshould update state when navigating[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mState Management[2m > [22mshould update context correctly[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Listeners[2m > [22mshould notify state change listeners[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Listeners[2m > [22mshould unsubscribe state change listeners[32m 1[2mms[22m[39m
[31m   [31mâ”œÃ¹[31m OnboardingEngine[2m > [22mEvent Listeners[2m > [22mshould handle beforeStepChange listeners[39m[32m 5[2mms[22m[39m
[31m     Ã”Ã¥Ã† expected "spy" to be called with arguments: [ ObjectContaining{Ã”Ã‡Âª} ][90m

Number of calls: [1m0[22m
[31m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Listeners[2m > [22mshould allow beforeStepChange listeners to cancel navigation[32m 1[2mms[22m[39m
[31m   [31mâ”œÃ¹[31m OnboardingEngine[2m > [22mEvent Listeners[2m > [22mshould allow beforeStepChange listeners to redirect navigation[39m[32m 4[2mms[22m[39m
[31m     Ã”Ã¥Ã† expected 'step1' to be 'step3' // Object.is equality[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mStep Lifecycle Hooks[2m > [22mshould call onStepActive when entering a step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mStep Lifecycle Hooks[2m > [22mshould call onStepComplete when leaving a step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mReset Functionality[2m > [22mshould reset to initial state[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mReset Functionality[2m > [22mshould reset with new configuration[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mReset Functionality[2m > [22mshould preserve persistence handlers when not overridden[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mReset Functionality[2m > [22mshould handle reset with overridden persistence handlers[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mReset Functionality[2m > [22mshould call clearPersistedData when provided[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mReset Functionality[2m > [22mshould clear persisted data when clearPersistedData is provided[32m 2[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mReset Functionality[2m > [22mshould handle errors when clearPersistedData throws[32m 3[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mError Handling[2m > [22mshould handle invalid step ID in goToStep[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mError Handling[2m > [22mshould handle errors in next() method[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mError Handling[2m > [22mshould queue operations during loading state[32m 105[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mError Handling[2m > [22mshould allow external code to report errors[32m 2[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mConcurrent Operations[2m > [22mshould handle rapid successive navigation calls[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mConcurrent Operations[2m > [22mshould handle concurrent context updates by processing them sequentially with merging[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mshould handle steps with identical IDs gracefully[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mshould handle extremely deep navigation history[32m 3[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mshould handle malformed step data gracefully[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mshould handle updateChecklistItem on non-checklist step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mshould not persist data during hydration[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mshould handle context updates that don't actually change data[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mready()[2m > [22mshould resolve after initialization is complete[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mready()[2m > [22mshould resolve after data loading if loadData is async[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mready()[2m > [22mshould resolve even if data loading fails[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEdge Cases[2m > [22mready()[2m > [22mshould allow calling ready() multiple times[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mStep Change Listeners[2m > [22mshould notify step change listeners when navigating[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mStep Change Listeners[2m > [22mshould unsubscribe step change listeners[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mStep Change Listeners[2m > [22mshould handle errors in step change listeners gracefully[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mStep Change Listeners[2m > [22mshould notify multiple step change listeners[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mFlow Complete Listeners[2m > [22mshould notify flow complete listeners when flow completes[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mFlow Complete Listeners[2m > [22mshould unsubscribe flow complete listeners[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mFlow Complete Listeners[2m > [22mshould handle errors in sync flow complete listeners gracefully[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mFlow Complete Listeners[2m > [22mshould handle errors in async flow complete listeners gracefully[32m 19[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mFlow Complete Listeners[2m > [22mshould notify multiple flow complete listeners[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould call before step change listeners before navigation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould allow before step change listeners to cancel navigation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould allow before step change listeners to redirect navigation[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould not allow redirect after cancel is called[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould unsubscribe before step change listeners[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould handle async before step change listeners[32m 20[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould call multiple before step change listeners sequentially[32m 15[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mBefore Step Change Listeners[2m > [22mshould pass correct direction for different navigation types[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mState Change Listeners[2m > [22mshould notify state change listeners when state changes[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mState Change Listeners[2m > [22mshould unsubscribe state change listeners[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mState Change Listeners[2m > [22mshould notify state change listeners during navigation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mState Change Listeners[2m > [22mshould notify state change listeners on error state changes[32m 2[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mState Change Listeners[2m > [22mshould notify multiple state change listeners[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mIntegration - Multiple Event Types[2m > [22mshould call all event handlers in correct order during navigation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mEvent Handlers[2m > [22mIntegration - Multiple Event Types[2m > [22mshould handle event handler errors without affecting other handlers[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mPlugin Integration[2m > [22mshould install and use plugins correctly[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mPlugin Integration[2m > [22mshould handle plugin installation failures gracefully[32m 2[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mPlugin Integration[2m > [22mshould handle plugin installation failures gracefully[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mPlugin Integration[2m > [22mshould allow plugins to override persistence handlers[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mExternal System Integration[2m > [22mshould handle async persistence with network delays[32m 203[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mExternal System Integration[2m > [22mshould handle persistence failures without blocking navigation[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackEvent[2m > [22mshould delegate simple event tracking to analytics manager[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackEvent[2m > [22mshould handle empty properties[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould track custom event with default options and step context[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould track custom event with custom category and priority[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould include sanitized context data when requested[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould handle options to exclude step context[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould handle options to exclude flow progress[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould handle event when no current step is set[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould track event with all options disabled[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mtrackCustomEvent[2m > [22mshould correctly calculate step position for last step[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22msanitizeContextForAnalytics[2m > [22mshould remove sensitive fields from context[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22msanitizeContextForAnalytics[2m > [22mshould handle context without flowData[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22msanitizeContextForAnalytics[2m > [22mshould handle context with flowData but no _internal[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22msanitizeContextForAnalytics[2m > [22mshould not mutate the original context[32m 0[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22manalytics integration methods[2m > [22mshould register analytics provider[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22manalytics integration methods[2m > [22mshould flush analytics[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22manalytics integration methods[2m > [22mshould set analytics user ID[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mcloud analytics configuration[2m > [22mshould enable analytics when publicKey and apiHost are provided[32m 1[2mms[22m[39m
   [32mÃ”Â£Ã´[39m OnboardingEngine[2m > [22mAnalytics and Custom Event Tracking[2m > [22mcloud analytics configuration[2m > [22mshould work without cloud configuration[32m 1[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 2 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  src/engine/OnboardingEngine.test.ts > OnboardingEngine > Event Listeners > should handle beforeStepChange listeners
AssertionError: expected "spy" to be called with arguments: [ ObjectContaining{Ã”Ã‡Âª} ]

Number of calls: 0

 Ã”Ã˜Â» src/engine/OnboardingEngine.test.ts:1137:30
    1135|             await engine.next()
    1136| 
    1137|             expect(listener).toHaveBeenCalledWith(
       |                              ^
    1138|                 expect.objectContaining({
    1139|                     currentStep: expect.objectContaining({ id: 'step1'Ã”Ã‡Âª

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/2]Ã”Ã„Â»

 FAIL  src/engine/OnboardingEngine.test.ts > OnboardingEngine > Event Listeners > should allow beforeStepChange listeners to redirect navigation
AssertionError: expected 'step1' to be 'step3' // Object.is equality

Expected: "step3"
Received: "step1"

 Ã”Ã˜Â» src/engine/OnboardingEngine.test.ts:1169:43
    1167| 
    1168|             const state = engine.getState()
    1169|             expect(state.currentStep?.id).toBe('step3') // Should rediÃ”Ã‡Âª
       |                                           ^
    1170|         })
    1171|     })

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[2/2]Ã”Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m20 passed[39m[22m[90m (21)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m687 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (690)[39m
[2m   Start at [22m 14:57:14
[2m   Duration [22m 2.05s[2m (transform 2.06s, setup 0ms, collect 7.48s, tests 1.73s, environment 5ms, prepare 8.77s)[22m

Ã”Ã‡Ã«ELIFECYCLEÃ”Ã‡Ã« Test failed. See above for more details.
